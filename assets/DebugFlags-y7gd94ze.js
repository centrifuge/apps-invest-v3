import{r as u,j as e}from"./iframe-Bh4nsEqh.js";import{i as D,g as x,D as w}from"./LineChart.stories-B2PHbapt.js";import{B as b}from"./button-C6_GMqP-.js";import{D as j,a as C,b as v,c as F,d as S,e as T,f as y,g as R,h as P,u as k,P as I,C as A}from"./Modal-BIRCwTzW.js";import{S as O}from"./v-stack-CfzajWK5.js";import{I as N}from"./input-CgKadtz6.js";import{c as z}from"./create-slot-recipe-context-DgHzcxly.js";import{c as B}from"./factory-C2D7TBAW.js";import{N as E,a as q,b as M}from"./native-select-OHRTiX0W.js";import{C as H,b as K,c as L,a as _}from"./checkbox-Cjx_oYM9.js";import{F as J,a as $,b as G}from"./field-ONEhZa_b.js";import"./index-Cun1SEai.js";import"./box-CLWAhm56.js";import"./text-B9-u84IE.js";import"./DataTable-jb3-XqrE.js";import"./flex-BcYWbRrC.js";import"./icon-Czktae-r.js";import"./decimal-DQE-3iDJ.js";import"./Button-CBFm0qQF.js";import"./Card-CppgVIxp.js";import"./Tabs-DJ4mXxep.js";import"./create-split-props-BLHDZ2ef.js";import"./render-strategy-D2qL0-Ht.js";import"./use-event-KVpjCCBj.js";import"./index-Bf1ftP2J.js";import"./index-BskpfAr_.js";import"./use-field-context-DpjkteSV.js";const{withRootProvider:h,withContext:a}=z({key:"drawer"});h(R,{defaultProps:{unmountOnExit:!0,lazyMount:!0}});const Q=h(j,{defaultProps:{unmountOnExit:!0,lazyMount:!0}}),U=a(C,"trigger",{forwardAsChild:!0}),V=a(F,"positioner",{forwardAsChild:!0}),W=a(S,"content",{forwardAsChild:!0});a(P,"description",{forwardAsChild:!0});const X=a(T,"title",{forwardAsChild:!0}),Y=a(y,"closeTrigger",{forwardAsChild:!0});u.forwardRef(function(n,l){const o=k();return e.jsx(B.button,{...n,ref:l,onClick:()=>o.setOpen(!1)})});const Z=a(v,"backdrop",{forwardAsChild:!0}),ee=a("div","body");a("div","footer");const te=a("div","header");function re({children:g,onChange:n,customFlags:l}){const[o,m]=u.useState(D),[r,i]=u.useState({}),p=u.useMemo(()=>({flags:Object.entries(o).reduce((s,[t,d])=>{const f=x[t];return Reflect.set(s,t,"options"in f?f.options[d]:d),s},{}),register(s,t){i(d=>({...d,[s]:t}))},unregister(s){i(t=>({...t,[s]:void 0}))}}),[o]),c=new Set(Object.values(r).flat());return u.useEffect(()=>{n==null||n(o),o.persistDebugFlags&&localStorage.setItem("debugFlags",JSON.stringify(o)),!o.persistDebugFlags&&localStorage.getItem("debugFlags")&&localStorage.removeItem("debugFlags")},[o]),e.jsxs(w.Provider,{value:p,children:[g,e.jsx(se,{state:o,usedKeys:c,onChange:(s,t)=>m(d=>({...d,[s]:t})),customFlags:l})]})}const se=({state:g,usedKeys:n,onChange:l,customFlags:o=[]})=>{const m=["address","persistDebugFlags",...o];return e.jsxs(Q,{children:[e.jsx(U,{asChild:!0,children:e.jsx(b,{variant:"solid",size:"sm",style:{position:"fixed",bottom:"8px",right:"8px"},children:"open debug panel"})}),e.jsxs(I,{children:[e.jsx(Z,{}),e.jsx(V,{children:e.jsxs(W,{children:[e.jsx(te,{children:e.jsx(X,{children:"Debug Panel"})}),e.jsx(ee,{children:e.jsx(O,{gap:"4",children:Object.entries(x).map(([r,i])=>{if(!m.includes(r))return null;const p=n.has(r)||i.alwaysShow,c=g[r];let s;return i.type==="checkbox"?s=e.jsxs(H,{checked:c,onCheckedChange:t=>l(r,t.checked),children:[e.jsx(K,{}),e.jsx(L,{}),e.jsx(_,{children:r})]},r):i.type==="select"&&i.options?s=e.jsxs(E,{size:"xl",variant:"outline",width:"auto",me:"-1",children:[e.jsx(q,{value:c,onChange:t=>l(r,t.target.value),fontSize:"sm",children:Object.keys(i.options).map(t=>e.jsx("option",{value:t,children:t},`${t}`))}),e.jsx(M,{})]},r):s=e.jsxs(J,{invalid:!p,children:[e.jsx($,{children:r}),e.jsx(N,{value:c,onChange:t=>l(r,t.target.value)}),e.jsx(G,{children:"unused"})]},r),p?s:null})})}),e.jsx(Y,{asChild:!0,children:e.jsx(A,{size:"xl"})})]})})]})]})};re.__docgenInfo={description:"",methods:[],displayName:"DebugFlagsImpl",props:{children:{required:!1,tsType:{name:"ReactNode"},description:""},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(state: Flags) => void",signature:{arguments:[{type:{name:"signature",type:"object",raw:`{
  [T in Key]: (typeof flagsConfig)[T] extends { options: { [key: string]: string } }
    ? string
    : (typeof flagsConfig)[T]['default'] extends boolean
      ? boolean
      : (typeof flagsConfig)[T]['default']
}`,signature:{properties:[{key:{name:"union",raw:"'address' | 'persistDebugFlags'",elements:[{name:"literal",value:"'address'"},{name:"literal",value:"'persistDebugFlags'"}],required:!0},value:{name:"unknown"}}]}},name:"state"}],return:{name:"void"}}},description:""},customFlags:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""}}};export{re as default};
