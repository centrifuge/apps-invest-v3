import{r as i,j as r,m as d,l as F,n as $,o as V,p as _,c as G,q as L,s as y}from"./iframe-Bh4nsEqh.js";import{r as H}from"./index-Bf1ftP2J.js";import{u as v,a as W,b as J,n as K}from"./use-event-KVpjCCBj.js";import{b as Q}from"./input-CgKadtz6.js";import{B as x}from"./button-C6_GMqP-.js";import{c as U}from"./text-B9-u84IE.js";import{c as P}from"./factory-C2D7TBAW.js";import{c as X}from"./create-slot-recipe-context-DgHzcxly.js";import{d as Y,c as Z,a as g,b as R}from"./create-split-props-BLHDZ2ef.js";import{b as ee,a as h,u as C,s as j,R as w,P as D}from"./render-strategy-D2qL0-Ht.js";const oe=i.forwardRef(function(e,o){const{templateAreas:s,column:n,row:a,autoFlow:l,autoRows:f,templateRows:m,autoColumns:u,templateColumns:O,inline:I,...M}=e;return r.jsx(P.div,{...M,ref:o,css:[{display:I?"inline-grid":"grid",gridTemplateAreas:s,gridAutoColumns:u,gridColumn:n,gridRow:a,gridAutoFlow:l,gridAutoRows:f,gridTemplateRows:m,gridTemplateColumns:O},e.css]})}),T=t=>Y()(t,["immediate","lazyMount","onExitComplete","present","skipAnimationOnMount","unmountOnExit"]),[b,p]=Z({name:"DialogContext",hookName:"useDialogContext",providerName:"<DialogProvider />"}),N=i.forwardRef((t,e)=>{const o=p(),s=ee(),n=h({...s,present:o.open}),a=d(o.getBackdropProps(),n.getPresenceProps(),t);return n.unmounted?null:r.jsx(g.div,{...a,ref:R(n.ref,e)})});N.displayName="DialogBackdrop";const S=i.forwardRef((t,e)=>{const o=p(),s=d(o.getCloseTriggerProps(),t);return r.jsx(g.button,{...s,ref:e})});S.displayName="DialogCloseTrigger";const A=i.forwardRef((t,e)=>{const o=p(),s=C(),n=d(o.getContentProps(),s.getPresenceProps(),t);return s.unmounted?null:r.jsx(g.div,{...n,ref:R(s.ref,e)})});A.displayName="DialogContent";const k=i.forwardRef((t,e)=>{const o=p(),s=d(o.getDescriptionProps(),t);return r.jsx(g.div,{...s,ref:e})});k.displayName="DialogDescription";const z=i.forwardRef((t,e)=>{const o=p(),s=d(o.getPositionerProps(),t);return C().unmounted?null:r.jsx(g.div,{...s,ref:e})});z.displayName="DialogPositioner";const te=t=>{const e=i.useId(),{getRootNode:o}=v(),{dir:s}=W(),n={id:e,getRootNode:o,dir:s,...t},a=J($,n);return F(a,K)},re=t=>{const[e,{children:o,...s}]=T(t),[n]=j(e),a=te(s),l=h(d({present:a.open},e));return r.jsx(b,{value:a,children:r.jsx(w,{value:n,children:r.jsx(D,{value:l,children:o})})})},se=t=>{const[e,{value:o,children:s}]=T(t),[n]=j(e),a=h(d({present:o.open},e));return r.jsx(b,{value:o,children:r.jsx(w,{value:n,children:r.jsx(D,{value:a,children:s})})})},B=i.forwardRef((t,e)=>{const o=p(),s=d(o.getTitleProps(),t);return r.jsx(g.h2,{...s,ref:e})});B.displayName="DialogTitle";const q=i.forwardRef((t,e)=>{const o=p(),s=C(),n=d({...o.getTriggerProps(),"aria-controls":s.unmounted?void 0:o.getTriggerProps()["aria-controls"]},t);return r.jsx(g.button,{...n,ref:e})});q.displayName="DialogTrigger";const ne=t=>{var m;const{children:e,disabled:o}=t,[s,n]=i.useState((m=t.container)==null?void 0:m.current),a=i.useSyncExternalStore(ie,()=>!1,()=>!0),{getRootNode:l}=v();if(i.useEffect(()=>{n(()=>{var u;return(u=t.container)==null?void 0:u.current})},[t.container]),a||o)return r.jsx(r.Fragment,{children:e});const f=s??ae(l);return r.jsx(r.Fragment,{children:i.Children.map(e,u=>H.createPortal(u,f))})},ae=t=>{const e=t==null?void 0:t(),o=e.getRootNode();return V(o)?o:_(e).body},ie=()=>()=>{},le=i.forwardRef(function(e,o){return r.jsx(x,{px:"0",py:"0",_icon:{fontSize:"1.2em"},ref:o,...e})}),ce=i.forwardRef(function(e,o){return r.jsx(le,{variant:"ghost","aria-label":"Close",ref:o,...e,children:e.children??r.jsx(Q,{})})}),{withRootProvider:E,withContext:c}=X({key:"dialog"});E(se,{defaultProps:{unmountOnExit:!0,lazyMount:!0}});const de=E(re,{defaultProps:{unmountOnExit:!0,lazyMount:!0}});c(q,"trigger",{forwardAsChild:!0});const ue=c(z,"positioner",{forwardAsChild:!0}),pe=c(A,"content",{forwardAsChild:!0});c(k,"description",{forwardAsChild:!0});const ge=c(B,"title",{forwardAsChild:!0});c(S,"closeTrigger",{forwardAsChild:!0});i.forwardRef(function(e,o){const s=p();return r.jsx(P.button,{...e,ref:o,onClick:()=>s.setOpen(!1)})});const me=c(N,"backdrop",{forwardAsChild:!0}),fe=c("div","body"),xe=c("div","footer"),Pe=c("div","header"),{useRecipeResult:he}=U({key:"separator"}),Ce=i.forwardRef(function(e,o){const{styles:s,className:n,props:a}=he(e),l=e.orientation||"horizontal";return r.jsx(P.span,{ref:o,role:y(l)?"separator":"presentation","aria-orientation":y(l)?l:void 0,...L(a,["orientation"]),className:G(n,e.className),css:[s,e.css]})}),ye=({isOpen:t,onClose:e,title:o,children:s,primaryActionText:n="Save changes",onPrimaryAction:a,isPrimaryActionLoading:l=!1,isPrimaryActionDisabled:f=!1,size:m="md"})=>r.jsx(de,{open:t,onOpenChange:u=>!u.open&&e(),size:m,closeOnInteractOutside:!0,children:r.jsxs(ne,{children:[r.jsx(me,{}),r.jsx(ue,{children:r.jsxs(pe,{bg:"white",borderRadius:"md",boxShadow:"lg",position:"relative",children:[r.jsxs(Pe,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[r.jsx(ge,{fontSize:"xl",fontWeight:"bold",children:o}),r.jsx(ce,{"aria-label":"Close modal",variant:"plain",onClick:e,size:"sm"})]}),r.jsx(Ce,{my:2}),r.jsx(fe,{children:s}),a&&r.jsx(xe,{children:r.jsxs(oe,{w:"100%",gap:2,templateColumns:"1fr 1fr",children:[r.jsx(x,{size:"sm",variant:"solid",colorPalette:"gray",onClick:e,children:"Cancel"}),a&&r.jsx(x,{size:"sm",colorPalette:"yellow",onClick:a,loading:l,disabled:f,children:n})]})})]})})]})});ye.__docgenInfo={description:"",methods:[],displayName:"Modal",props:{isOpen:{required:!0,tsType:{name:"boolean"},description:""},onClose:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},title:{required:!0,tsType:{name:"string"},description:""},children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},primaryActionText:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'Save changes'",computed:!1}},onPrimaryAction:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},isPrimaryActionLoading:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},isPrimaryActionDisabled:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},size:{defaultValue:{value:"'md'",computed:!1},required:!1}}};export{ce as C,re as D,le as I,ye as M,ne as P,q as a,N as b,z as c,A as d,B as e,S as f,se as g,k as h,T as s,p as u};
